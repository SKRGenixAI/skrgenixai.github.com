// Website data
const websiteData = {
  "website_name": "SKRGenixAI",
  "tagline": "Your Gateway to AI Innovation",
  "featured_articles": [
    {
      "id": 1,
      "title": "Revolutionary AI Tools Transforming Business Operations in 2025",
      "category": "AI Tools",
      "image": "https://via.placeholder.com/800x400/1FB8CD/ffffff?text=AI+Business+Transformation",
      "excerpt": "Discover the latest AI tools that are revolutionizing how businesses operate, from automated customer service to predictive analytics.",
      "author": "SKRGenix Team",
      "date": "October 10, 2025",
      "content": "The artificial intelligence landscape continues to evolve at an unprecedented pace, with new tools emerging regularly that promise to transform business operations across industries. In 2025, we're witnessing a significant shift toward more accessible, user-friendly AI solutions that don't require extensive technical expertise to implement. These tools are democratizing AI technology, making it available to small and medium-sized businesses that previously couldn't afford such advanced capabilities. From automated customer service chatbots that can handle complex queries to predictive analytics platforms that forecast market trends, the current generation of AI tools offers unprecedented value. Machine learning algorithms have become more sophisticated, enabling businesses to make data-driven decisions with greater accuracy than ever before. The integration of natural language processing has made these tools more intuitive, allowing users to interact with complex systems using everyday language. As we move forward, the focus is shifting from raw computational power to practical applications that solve real-world business challenges, making AI an indispensable part of modern business strategy."
    }
  ],
  "ai_tools": [
    {
      "name": "ChatGPT Plus",
      "category": "Language Model",
      "rating": 4.8,
      "description": "Advanced conversational AI for content creation, coding, and problem-solving",
      "features": ["Natural Language Processing", "Code Generation", "Creative Writing"],
      "link": "https://chat.openai.com"
    },
    {
      "name": "Midjourney",
      "category": "Image Generation", 
      "rating": 4.7,
      "description": "AI-powered image generation tool for creating stunning artwork and designs",
      "features": ["Text-to-Image", "Style Transfer", "High Resolution Output"],
      "link": "https://midjourney.com"
    },
    {
      "name": "Claude AI",
      "category": "AI Assistant",
      "rating": 4.6,
      "description": "Intelligent AI assistant for analysis, writing, and complex reasoning tasks",
      "features": ["Document Analysis", "Code Review", "Research Assistance"],
      "link": "https://claude.ai"
    }
  ],
  "news_articles": [
    {
      "id": 2,
      "title": "OpenAI Releases GPT-5 with Enhanced Reasoning Capabilities",
      "category": "News",
      "date": "October 9, 2025",
      "excerpt": "The latest version of GPT shows significant improvements in logical reasoning and scientific problem-solving.",
      "image": "https://via.placeholder.com/400x300/FFC185/000000?text=GPT-5+Launch",
      "content": "OpenAI has officially announced the release of GPT-5, marking a significant milestone in artificial intelligence development. The new model demonstrates remarkable improvements in logical reasoning, mathematical problem-solving, and scientific analysis compared to its predecessors. Early tests show that GPT-5 can handle complex multi-step reasoning tasks with unprecedented accuracy, making it a powerful tool for researchers, students, and professionals across various domains. The model also features enhanced safety measures and reduced hallucination rates, addressing some of the key concerns raised about previous versions. This release is expected to accelerate AI adoption in critical sectors including healthcare, education, and scientific research."
    },
    {
      "id": 3,
      "title": "Google Announces Breakthrough in Quantum AI Computing",
      "category": "News", 
      "date": "October 8, 2025",
      "excerpt": "Google's new quantum AI chip demonstrates exponential speedup in machine learning tasks.",
      "image": "https://via.placeholder.com/400x300/B4413C/ffffff?text=Quantum+AI",
      "content": "Google Research has unveiled a revolutionary quantum AI chip that promises to transform machine learning computations. The new chip, codenamed 'Quantum Leap,' demonstrates exponential speedup in training complex neural networks and solving optimization problems that are intractable for classical computers. This breakthrough could accelerate drug discovery, climate modeling, and financial risk analysis by orders of magnitude. The quantum AI system combines quantum computing principles with machine learning algorithms, creating a hybrid approach that leverages the strengths of both technologies. Industry experts believe this development could usher in a new era of AI capabilities previously thought impossible."
    },
    {
      "id": 4,
      "title": "European Union Finalizes AI Regulation Framework",
      "category": "News",
      "date": "October 7, 2025",
      "excerpt": "New regulations set global standards for ethical AI development and deployment.",
      "image": "https://via.placeholder.com/400x300/5D878F/ffffff?text=EU+AI+Regulation",
      "content": "The European Union has finalized its comprehensive AI regulation framework, establishing the world's first major legal structure for artificial intelligence governance. The new regulations classify AI systems into risk categories and establish strict requirements for high-risk applications in sectors such as healthcare, transportation, and criminal justice. Companies developing or deploying AI systems in the EU must now comply with transparency requirements, undergo regular audits, and ensure human oversight in critical decision-making processes. The regulations also include provisions for protecting fundamental rights and preventing discrimination in AI systems. This landmark legislation is expected to influence AI governance policies worldwide."
    }
  ],
  "tutorials": [
    {
      "id": 5,
      "title": "Getting Started with AI Content Creation",
      "category": "Tutorial",
      "difficulty": "Beginner",
      "duration": "15 min read",
      "description": "Learn how to use AI tools effectively for content creation and marketing",
      "image": "https://via.placeholder.com/400x300/ECEBD5/000000?text=AI+Content+Creation",
      "content": "AI content creation tools have revolutionized how businesses and individuals produce written content, images, and multimedia materials. This comprehensive guide will walk you through the essential steps to harness these powerful tools effectively. Start by understanding your content goals and target audience, then select the appropriate AI tools for your specific needs. Popular platforms like ChatGPT, Jasper, and Copy.ai can help generate blog posts, social media content, and marketing materials. For visual content, tools like Midjourney, DALL-E, and Stable Diffusion can create stunning images and graphics. The key to success lies in crafting effective prompts that clearly communicate your vision to the AI. Always review and edit AI-generated content to ensure it aligns with your brand voice and meets quality standards."
    },
    {
      "id": 6,
      "title": "Building Your First AI Chatbot",
      "category": "Tutorial", 
      "difficulty": "Intermediate",
      "duration": "30 min read",
      "description": "Step-by-step guide to creating a custom chatbot for your business",
      "image": "https://via.placeholder.com/400x300/DB4545/ffffff?text=AI+Chatbot+Tutorial",
      "content": "Creating an AI chatbot for your business can significantly improve customer service and engagement while reducing operational costs. This tutorial will guide you through the entire process, from planning to deployment. First, define your chatbot's purpose and scope - whether it's for customer support, lead generation, or information delivery. Choose a platform like Dialogflow, Microsoft Bot Framework, or Rasa based on your technical requirements and budget. Design conversation flows that anticipate user queries and provide helpful responses. Train your chatbot with relevant data and continuously refine its responses based on user interactions. Implement natural language processing capabilities to handle varied user inputs effectively. Finally, integrate your chatbot with your website, social media platforms, or messaging apps to reach your audience where they are most active."
    },
    {
      "id": 7,
      "title": "AI Image Generation Best Practices",
      "category": "Tutorial",
      "difficulty": "Beginner", 
      "duration": "20 min read",
      "description": "Master the art of prompt engineering for better AI-generated images",
      "image": "https://via.placeholder.com/400x300/D2BA4C/000000?text=AI+Image+Generation",
      "content": "AI image generation has opened up new possibilities for creators, marketers, and artists to produce stunning visuals without traditional design skills. However, achieving high-quality results requires understanding how to communicate effectively with AI models through well-crafted prompts. Start with clear, specific descriptions of what you want to create, including style, composition, lighting, and mood. Use descriptive adjectives and reference artistic styles or photographers to guide the AI's output. Experiment with different aspect ratios and resolution settings to match your intended use case. Learn to iterate on your prompts by adjusting keywords and adding negative prompts to exclude unwanted elements. Understand the strengths and limitations of different AI models - some excel at photorealistic images while others are better for artistic or stylized content. Always respect copyright and ethical guidelines when creating AI-generated images for commercial use."
    }
  ]
};

// Additional sample articles for variety
const additionalArticles = [
  {
    "id": 8,
    "title": "The Future of AI in Healthcare: Transforming Patient Care",
    "category": "Articles",
    "date": "October 6, 2025",
    "excerpt": "Exploring how AI is revolutionizing medical diagnosis, treatment planning, and patient monitoring.",
    "image": "https://via.placeholder.com/400x300/964325/ffffff?text=AI+Healthcare",
    "author": "SKRGenix Team",
    "content": "Artificial intelligence is transforming healthcare delivery in unprecedented ways, offering new possibilities for improving patient outcomes and reducing medical errors. AI-powered diagnostic systems can now analyze medical images with accuracy that matches or exceeds human specialists, enabling earlier detection of diseases like cancer, heart conditions, and neurological disorders. Machine learning algorithms process vast amounts of patient data to identify patterns and predict health risks, allowing for more personalized and proactive care approaches."
  },
  {
    "id": 9,
    "title": "AI Ethics: Navigating the Challenges of Responsible Development",
    "category": "Articles", 
    "date": "October 5, 2025",
    "excerpt": "Understanding the ethical implications of AI systems and frameworks for responsible development.",
    "image": "https://via.placeholder.com/400x300/944454/ffffff?text=AI+Ethics",
    "author": "SKRGenix Team",
    "content": "As artificial intelligence becomes increasingly integrated into our daily lives, the importance of ethical AI development has never been more critical. Organizations worldwide are grappling with questions about fairness, transparency, privacy, and accountability in AI systems. The challenge lies in creating AI that not only performs well technically but also aligns with human values and societal needs. Key ethical considerations include preventing bias in AI algorithms, ensuring transparency in AI decision-making processes, and protecting user privacy and data rights."
  },
  {
    "id": 10,
    "title": "Latest AI Apps Revolutionizing Mobile Experience",
    "category": "Latest AI Apps",
    "date": "October 4, 2025", 
    "excerpt": "Discover the newest AI-powered mobile applications that are changing how we interact with technology.",
    "image": "https://via.placeholder.com/400x300/13343B/ffffff?text=Latest+AI+Apps",
    "author": "SKRGenix Team",
    "content": "The mobile app ecosystem is experiencing a revolutionary transformation with the integration of advanced AI capabilities. New AI-powered applications are emerging daily, offering unprecedented functionality and user experiences. From personal AI assistants that understand context and preferences to smart camera apps that enhance photography automatically, these applications are making AI accessible to millions of users worldwide. The latest generation of AI apps leverages on-device processing for improved privacy and performance."
  }
];

// Combine all content
const allContent = [
  ...websiteData.featured_articles,
  ...websiteData.news_articles,
  ...websiteData.tutorials,
  ...additionalArticles
];

// DOM Elements
const navLinks = document.querySelectorAll('.nav__link');
const sections = document.querySelectorAll('.section');
const searchInput = document.getElementById('search-input');
const navToggle = document.getElementById('nav-toggle');
const navMenu = document.getElementById('nav-menu');

// State management
let currentSection = 'home';
let currentFilter = 'all';
let searchQuery = '';
let filteredContent = [...allContent];

// Initialize the application
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
    setupEventListeners();
});

// Initialize application
function initializeApp() {
    // Set active navigation
    updateActiveNavigation('home');
    
    // Load initial content
    loadContent();
}

// Setup event listeners
function setupEventListeners() {
    // Navigation
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const section = this.getAttribute('data-section');
            switchSection(section);
        });
    });

    // Mobile menu toggle
    if (navToggle) {
        navToggle.addEventListener('click', function() {
            navMenu.classList.toggle('nav__menu--active');
        });
    }

    // Search functionality
    searchInput.addEventListener('input', function() {
        searchQuery = this.value.toLowerCase().trim();
        if (currentSection === 'home') {
            filterContent();
            loadArticlesGrid();
        }
    });

    // Newsletter form
    const newsletterForm = document.querySelector('.newsletter__form');
    if (newsletterForm) {
        newsletterForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = this.querySelector('input[type="email"]').value;
            if (email) {
                alert('Thank you for subscribing! You will receive AI updates in your inbox.');
                this.reset();
            }
        });
    }

    // Footer links
    const footerLinks = document.querySelectorAll('.footer__links a[data-section]');
    footerLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const section = this.getAttribute('data-section');
            switchSection(section);
            window.scrollTo(0, 0);
        });
    });

    // Setup filter buttons after DOM is loaded
    setTimeout(() => {
        setupFilterButtons();
    }, 100);
}

// Setup filter button event listeners
function setupFilterButtons() {
    const filterBtns = document.querySelectorAll('.filter-btn');
    filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            // Remove active class from all buttons
            filterBtns.forEach(b => b.classList.remove('active'));
            // Add active class to clicked button
            this.classList.add('active');
            
            currentFilter = this.getAttribute('data-filter');
            filterContent();
            loadArticlesGrid();
        });
    });
}

// Filter content based on search and current filter
function filterContent() {
    filteredContent = [...allContent];
    
    // Apply category filter
    if (currentFilter !== 'all') {
        filteredContent = filteredContent.filter(item => {
            const category = item.category.toLowerCase();
            switch(currentFilter) {
                case 'tools':
                    return category.includes('tools') || category.includes('ai tools');
                case 'news':
                    return category.includes('news');
                case 'tutorials':
                    return category.includes('tutorial');
                case 'articles':
                    return category.includes('articles');
                default:
                    return true;
            }
        });
    }
    
    // Apply search filter
    if (searchQuery) {
        filteredContent = filteredContent.filter(item => 
            item.title.toLowerCase().includes(searchQuery) ||
            item.excerpt.toLowerCase().includes(searchQuery) ||
            item.category.toLowerCase().includes(searchQuery) ||
            (item.content && item.content.toLowerCase().includes(searchQuery))
        );
    }
}

// Switch between sections
function switchSection(sectionName) {
    currentSection = sectionName;
    
    // Update navigation
    updateActiveNavigation(sectionName);
    
    // Show/hide sections
    sections.forEach(section => {
        section.classList.add('hidden');
    });
    
    // Show the main articles grid for home
    if (sectionName === 'home') {
        document.getElementById('articles-grid').classList.remove('hidden');
    } else {
        // Show specific section
        const targetSection = document.getElementById(`${sectionName}-section`);
        if (targetSection) {
            targetSection.classList.remove('hidden');
        } else if (sectionName === 'articles') {
            // Handle articles section specially
            document.getElementById('detailed-articles-section').classList.remove('hidden');
        }
    }

    // Reset filters when switching sections
    currentFilter = 'all';
    searchQuery = '';
    searchInput.value = '';
    
    // Reset filter buttons
    const filterBtns = document.querySelectorAll('.filter-btn');
    filterBtns.forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-filter') === 'all') {
            btn.classList.add('active');
        }
    });

    // Load section-specific content
    loadSectionContent(sectionName);
    
    // Scroll to top
    window.scrollTo(0, 0);
}

// Update active navigation
function updateActiveNavigation(activeSection) {
    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('data-section') === activeSection) {
            link.classList.add('active');
        }
    });
}

// Load content based on section
function loadSectionContent(section) {
    switch(section) {
        case 'home':
            filterContent();
            loadArticlesGrid();
            break;
        case 'tools':
            loadToolsGrid();
            break;
        case 'news':
            loadNewsGrid();
            break;
        case 'tutorials':
            loadTutorialsGrid();
            break;
        case 'articles':
            loadArticlesSection();
            break;
        case 'apps':
            loadAppsGrid();
            break;
    }
}

// Load main articles grid (for home page)
function loadArticlesGrid() {
    const container = document.getElementById('articles-container');
    if (!container) return;
    
    // Show search results info if there's a search query
    let searchResultsHtml = '';
    if (searchQuery) {
        searchResultsHtml = `
            <div class="search-results">
                <i class="fas fa-search"></i> 
                Search results for "${searchQuery}" - ${filteredContent.length} result(s) found
            </div>
        `;
    }
    
    if (filteredContent.length === 0) {
        container.innerHTML = searchResultsHtml + `
            <div class="no-results">
                <i class="fas fa-search" style="font-size: 48px; margin-bottom: 16px; opacity: 0.5;"></i>
                <h3>No articles found</h3>
                <p>Try adjusting your search or filter criteria.</p>
            </div>
        `;
        return;
    }
    
    container.innerHTML = searchResultsHtml + filteredContent.map(article => createArticleCard(article)).join('');
}

// Create article card HTML
function createArticleCard(article) {
    return `
        <div class="article-card" onclick="openArticle(${article.id})">
            <img src="${article.image}" alt="${article.title}" class="article-card__image">
            <div class="article-card__content">
                <span class="article-card__category">${article.category}</span>
                <h3 class="article-card__title">${article.title}</h3>
                <p class="article-card__excerpt">${article.excerpt}</p>
                <div class="article-card__meta">
                    <span class="article-card__author">${article.author || 'SKRGenix Team'}</span>
                    <span class="article-card__date">${article.date}</span>
                </div>
            </div>
        </div>
    `;
}

// Load tools grid
function loadToolsGrid() {
    const container = document.getElementById('tools-container');
    if (!container) return;
    
    container.innerHTML = websiteData.ai_tools.map(tool => createToolCard(tool)).join('');
}

// Create tool card HTML
function createToolCard(tool) {
    const stars = '★'.repeat(Math.floor(tool.rating)) + (tool.rating % 1 !== 0 ? '☆' : '');
    
    return `
        <div class="tool-card">
            <div class="tool-card__header">
                <div>
                    <h3 class="tool-card__name">${tool.name}</h3>
                    <span class="tool-card__category">${tool.category}</span>
                </div>
                <div class="tool-card__rating">
                    <span class="rating-star">${stars}</span>
                    <span class="rating-value">${tool.rating}</span>
                </div>
            </div>
            <p class="tool-card__description">${tool.description}</p>
            <div class="tool-card__features">
                ${tool.features.map(feature => `<span class="feature-tag">${feature}</span>`).join('')}
            </div>
            <a href="${tool.link}" target="_blank" class="tool-card__link">Try Tool</a>
        </div>
    `;
}

// Load news grid
function loadNewsGrid() {
    const container = document.getElementById('news-container');
    if (!container) return;
    
    const newsArticles = allContent.filter(item => item.category === 'News');
    container.innerHTML = newsArticles.map(article => createArticleCard(article)).join('');
}

// Load tutorials grid
function loadTutorialsGrid() {
    const container = document.getElementById('tutorials-container');
    if (!container) return;
    
    const tutorials = allContent.filter(item => item.category === 'Tutorial');
    container.innerHTML = tutorials.map(tutorial => createTutorialCard(tutorial)).join('');
}

// Create tutorial card HTML
function createTutorialCard(tutorial) {
    return `
        <div class="article-card" onclick="openArticle(${tutorial.id})">
            <img src="${tutorial.image}" alt="${tutorial.title}" class="article-card__image">
            <div class="article-card__content">
                <span class="article-card__category">${tutorial.category}</span>
                <h3 class="article-card__title">${tutorial.title}</h3>
                <p class="article-card__excerpt">${tutorial.description || tutorial.excerpt}</p>
                <div class="article-card__meta">
                    <span class="article-card__author">${tutorial.difficulty || 'Beginner'}</span>
                    <span class="article-card__date">${tutorial.duration || '15 min read'}</span>
                </div>
            </div>
        </div>
    `;
}

// Load articles section
function loadArticlesSection() {
    const container = document.getElementById('detailed-articles-container');
    if (!container) return;
    
    const articles = allContent.filter(item => item.category === 'Articles');
    container.innerHTML = articles.map(article => createArticleCard(article)).join('');
}

// Load apps grid
function loadAppsGrid() {
    const container = document.getElementById('apps-container');
    if (!container) return;
    
    const apps = allContent.filter(item => item.category === 'Latest AI Apps');
    // If no specific apps, show general AI tools and recent articles
    const content = apps.length > 0 ? apps : allContent.slice(0, 6);
    
    container.innerHTML = content.map(app => createArticleCard(app)).join('');
}

// Load sidebar content
function loadSidebarContent() {
    loadTrendingTools();
    loadSidebarNews();
}

// Load trending tools in sidebar
function loadTrendingTools() {
    const container = document.getElementById('trending-tools');
    if (!container) return;
    
    const tools = websiteData.ai_tools.slice(0, 3);
    container.innerHTML = tools.map(tool => `
        <a href="${tool.link}" target="_blank" class="sidebar-item">
            <div class="sidebar-item__title">${tool.name}</div>
            <div class="sidebar-item__meta">${tool.category} • Rating: ${tool.rating}</div>
        </a>
    `).join('');
}

// Load sidebar news
function loadSidebarNews() {
    const container = document.getElementById('sidebar-news');
    if (!container) return;
    
    const news = allContent.filter(item => item.category === 'News').slice(0, 4);
    container.innerHTML = news.map(article => `
        <a href="#" class="sidebar-item" onclick="openArticle(${article.id}); return false;">
            <div class="sidebar-item__title">${article.title}</div>
            <div class="sidebar-item__meta">${article.date}</div>
        </a>
    `).join('');
}

// Load all content
function loadContent() {
    filterContent();
    loadArticlesGrid();
    loadSidebarContent();
}

// Open article modal
function openArticle(articleId) {
    const article = allContent.find(item => item.id === articleId);
    if (!article) return;
    
    const modal = document.getElementById('article-modal');
    const modalImage = document.getElementById('modal-image');
    const modalCategory = document.getElementById('modal-category');
    const modalTitle = document.getElementById('modal-title');
    const modalAuthor = document.getElementById('modal-author');
    const modalDate = document.getElementById('modal-date');
    const modalContent = document.getElementById('modal-content');
    
    // Populate modal
    modalImage.src = article.image;
    modalImage.alt = article.title;
    modalCategory.textContent = article.category;
    modalTitle.textContent = article.title;
    modalAuthor.textContent = `By ${article.author || 'SKRGenix Team'}`;
    modalDate.textContent = article.date;
    modalContent.innerHTML = `<p>${article.content}</p>`;
    
    // Load related articles
    loadRelatedArticles(articleId, article.category);
    
    // Show modal
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
}

// Close article modal
function closeArticle() {
    const modal = document.getElementById('article-modal');
    modal.classList.add('hidden');
    document.body.style.overflow = 'auto';
}

// Load related articles
function loadRelatedArticles(currentId, category) {
    const container = document.getElementById('related-articles');
    if (!container) return;
    
    let related = allContent
        .filter(item => item.id !== currentId && item.category === category)
        .slice(0, 3);
    
    // If not enough in same category, add from other categories
    if (related.length < 3) {
        const additional = allContent
            .filter(item => item.id !== currentId && item.category !== category)
            .slice(0, 3 - related.length);
        related.push(...additional);
    }
    
    container.innerHTML = related.map(article => `
        <div class="article-card" onclick="openArticle(${article.id})">
            <img src="${article.image}" alt="${article.title}" class="article-card__image">
            <div class="article-card__content">
                <span class="article-card__category">${article.category}</span>
                <h4 class="article-card__title">${article.title}</h4>
            </div>
        </div>
    `).join('');
}

// Close modal when clicking outside
document.addEventListener('click', function(e) {
    const modal = document.getElementById('article-modal');
    if (e.target === modal) {
        closeArticle();
    }
});

// Close modal with Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeArticle();
    }
});

// Initialize lazy loading for images
function initLazyLoading() {
    const images = document.querySelectorAll('img[data-src]');
    if (images.length === 0) return;
    
    const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src;
                img.classList.remove('lazy');
                imageObserver.unobserve(img);
            }
        });
    });

    images.forEach(img => imageObserver.observe(img));
}

// Call lazy loading initialization
document.addEventListener('DOMContentLoaded', initLazyLoading);